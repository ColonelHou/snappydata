stage "preparation"

node {
	stage 'Checkout'
	sh("pwd")
	checkout([
		$class: 'GitSCM',
		branches: [[name: 'feature/jenkins-ci']],
		doGenerateSubmoduleConfigurations: false,
		extensions: [],
		submoduleCfg: [],
		userRemoteConfigs: [
			[credentialsId: 'c6aa6881-51ea-448f-8770-6eb57bf0d223',
			url: 'https://github.com/SnappyDataInc/snappydata.git']
		]
	])
	
	
	sh("cd spark")
	sh("pwd")
	checkout([
		$class: 'GitSCM',
		branches: [[name: '*/master']],
		doGenerateSubmoduleConfigurations: false,
		extensions: [],
		submoduleCfg: [],
		userRemoteConfigs: [
			[credentialsId: 'c6aa6881-51ea-448f-8770-6eb57bf0d223',
			url: 'https://github.com/SnappyDataInc/spark.git']
		]
	])
	
	sh("cd ..")
	sh("mkdir snappy-connectors")
	sh("cd snappy-connectors")
	sh("pwd")
	checkout([
		$class: 'GitSCM',
		branches: [[name: '*/master']],
		doGenerateSubmoduleConfigurations: false,
		extensions: [],
		submoduleCfg: [],
		userRemoteConfigs: [
			[credentialsId: 'c6aa6881-51ea-448f-8770-6eb57bf0d223',
			url: 'https://github.com/SnappyDataInc/snappy-connectors.git']
		]
	])
	
	sh("cd ..")
	sh("mkdir aqp")
	sh("cd aqp")
	sh("pwd")
	checkout([
		$class: 'GitSCM',
		branches: [[name: '*/master']],
		doGenerateSubmoduleConfigurations: false,
		extensions: [],
		submoduleCfg: [],
		userRemoteConfigs: [
			[credentialsId: 'c6aa6881-51ea-448f-8770-6eb57bf0d223',
			url: 'https://github.com/SnappyDataInc/snappy-aqp.git']
		]
	])
	
	sh("cd ..")
	sh("cd spark-jobserver")
	sh("pwd")
	checkout([
		$class: 'GitSCM',
		branches: [[name: '*/master']],
		doGenerateSubmoduleConfigurations: false,
		extensions: [],
		submoduleCfg: [],
		userRemoteConfigs: [
			[credentialsId: 'c6aa6881-51ea-448f-8770-6eb57bf0d223',
			url: 'https://github.com/SnappyDataInc/spark-jobserver.git']
		]
	])
	
	sh("cd ..")
	sh("cd store")
	sh("pwd")
	checkout([
		$class: 'GitSCM',
		branches: [[name: '*/master']],
		doGenerateSubmoduleConfigurations: false,
		extensions: [],
		submoduleCfg: [],
		userRemoteConfigs: [
			[credentialsId: 'c6aa6881-51ea-448f-8770-6eb57bf0d223',
			url: 'https://github.com/SnappyDataInc/snappy-store.git']
		]
	])
	sh("cd ..
	sh("pwd")
}
